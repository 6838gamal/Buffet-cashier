# ูุธุงู ุงูุตูุงุญูุงุช ูุงููุตูู ุงููุจูู ุนูู ุงูุฃุฏูุงุฑ
# Role-Based Access Control System

## ๐ ูุธุฑุฉ ุนุงูุฉ / Overview

ุชู ุชุทุจูู ูุธุงู ุตูุงุญูุงุช ูุชูุฏู ููุตู ุจูู ุฃููุงุน ุงููุณุชุฎุฏููู ุงููุฎุชููุฉุ ุญูุซ ูุฑู ูู ูุณุชุฎุฏู ููุท ุงูุตูุญุงุช ูุงูููุฒุงุช ุงููุณููุญ ูู ุจุงููุตูู ุฅูููุง.

---

## ๐ฅ ุฃููุงุน ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช / User Roles & Permissions

### 1. ๐ ุงููุฏูุฑ (Admin)
**ุงูุตูุงุญูุงุช ุงููุงููุฉ:**
- โ ููุทุฉ ุงูุจูุน (POS)
- โ ุงููุจูุนุงุช (Sales)
- โ ุงูููุชุฌุงุช (Products)
- โ ุงููุฎุฒูู (Inventory)
- โ ุงูุนููุงุก (Customers)
- โ ุงูุชูุงุฑูุฑ (Reports)
- โ ุงูููุธููู (Employees)
- โ ุงููุตุฑููุงุช (Expenses)
- โ ุงูุฅุนุฏุงุฏุงุช (Settings)
- โ ููุญุฉ ุงูุฅุฏุงุฑุฉ (Admin Panel)

**ุงูููุงู ุงูุฎุงุตุฉ:**
- ุชุบููุฑ ุตูุงุญูุงุช ุงููุณุชุฎุฏููู ุงูุขุฎุฑูู
- ุงููุตูู ุฅูู ุฌููุน ุงูุฅุนุฏุงุฏุงุช
- ุฅุฏุงุฑุฉ ุงููุธุงู ุจุงููุงูู

---

### 2. ๐ ุงููุดุฑู (Manager)
**ุงูุตูุงุญูุงุช ุงููุญุฏูุฏุฉ:**
- โ ููุทุฉ ุงูุจูุน (POS)
- โ ุงููุจูุนุงุช (Sales)
- โ ุงูููุชุฌุงุช (Products)
- โ ุงููุฎุฒูู (Inventory)
- โ ุงูุนููุงุก (Customers)
- โ ุงูุชูุงุฑูุฑ (Reports)
- โ ุงูููุธููู (Employees)
- โ ุงููุตุฑููุงุช (Expenses)
- โ ุงูุฅุนุฏุงุฏุงุช (Settings) - **ููููุน**
- โ ููุญุฉ ุงูุฅุฏุงุฑุฉ (Admin Panel) - **ููููุน**

**ุงูููุงู ุงูุฎุงุตุฉ:**
- ูุฑุงูุจุฉ ุงููุจูุนุงุช ูุงูุชูุงุฑูุฑ
- ุฅุฏุงุฑุฉ ุงููุฎุฒูู ูุงูููุชุฌุงุช
- ุชุณุฌูู ุงููุตุฑููุงุช
- ูุง ููููู ุชุบููุฑ ุตูุงุญูุงุช ุงููุณุชุฎุฏููู

---

### 3. ๐ฐ ุงููุงุดูุฑ (Cashier)
**ุงูุตูุงุญูุงุช ุงูุฃุณุงุณูุฉ ููุท:**
- โ ููุทุฉ ุงูุจูุน (POS)
- โ ุงููุจูุนุงุช (Sales)
- โ ุงูููุชุฌุงุช (Products) - **ููููุน**
- โ ุงููุฎุฒูู (Inventory) - **ููููุน**
- โ ุงูุนููุงุก (Customers) - **ููููุน**
- โ ุงูุชูุงุฑูุฑ (Reports) - **ููููุน**
- โ ุงูููุธููู (Employees) - **ููููุน**
- โ ุงููุตุฑููุงุช (Expenses) - **ููููุน**
- โ ุงูุฅุนุฏุงุฏุงุช (Settings) - **ููููุน**
- โ ููุญุฉ ุงูุฅุฏุงุฑุฉ (Admin Panel) - **ููููุน**

**ุงูููุงู ุงูุฎุงุตุฉ:**
- ูุนุงูุฌุฉ ุนูููุงุช ุงูุจูุน ููุท
- ุทุจุงุนุฉ ุงูููุงุชูุฑ
- ุนุฑุถ ุณุฌู ุงููุจูุนุงุช

---

## ๐ ููููุฉ ุนูู ุงููุธุงู / How It Works

### 1. ุงูุชุณุฌูู ุงูุฃูู / First Registration
```
ุฃูู ูุณุชุฎุฏู ูุณุฌู ูู ุงููุธุงู = ูุฏูุฑ ุชููุงุฆูุงู
First user to register = Automatically becomes Admin
```

### 2. ุงูุชุณุฌููุงุช ุงูุชุงููุฉ / Subsequent Registrations
```
ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ = ูุงุดูุฑ ุงูุชุฑุงุถูุงู
New users = Cashier by default

ุงููุฏูุฑ ููููู ุชุบููุฑ ุงูุตูุงุญูุงุช ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
Admin can change roles from Admin Panel
```

### 3. ุชุณุฌูู ุงูุฏุฎูู / Login Process
```
1. ุงููุณุชุฎุฏู ูุฏุฎู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ
2. ุงููุธุงู ูุชุญูู ูู ุงูุตูุงุญูุงุช
3. ูุชู ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
4. ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุชุนุฑุถ ููุท ุงูุตูุญุงุช ุงููุณููุญ ุจูุง
```

### 4. ุงูุญูุงูุฉ ูู ุงููุตูู ุบูุฑ ุงููุตุฑุญ / Unauthorized Access Protection
```
ุฅุฐุง ุญุงูู ุงููุณุชุฎุฏู ุงููุตูู ุฅูู ุตูุญุฉ ุบูุฑ ูุณููุญ ุจูุง:
If user tries to access unauthorized page:

โ ูุชู ุชูุฌููู ุชููุงุฆูุงู ุฅูู ุตูุญุฉ "ุบูุฑ ูุตุฑุญ ุจุงูุฏุฎูู"
โ Automatically redirected to "Unauthorized" page

โ ุฑุณุงูุฉ ูุงุถุญุฉ ุชุทูุจ ููู ุงูุชูุงุตู ูุน ุงููุฏูุฑ
โ Clear message to contact admin for permissions
```

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู / User Interface

### ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุงูุฏููุงููููุฉ / Dynamic Sidebar
```
โ ุงููุฏูุฑ ูุฑู: 10 ุนูุงุตุฑ ูู ุงููุงุฆูุฉ
โ ุงููุดุฑู ูุฑู: 8 ุนูุงุตุฑ ูู ุงููุงุฆูุฉ
โ ุงููุงุดูุฑ ูุฑู: 2 ุนูุงุตุฑ ูู ุงููุงุฆูุฉ ููุท
```

### ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู / Login Screen
```
โ ูุนูููุงุช ูุงุถุญุฉ ุนู ูู ููุน ูุณุชุฎุฏู
โ ุฃููููุงุช ูููุฒุฉ ููู ุฏูุฑ
โ ุดุฑุญ ุงูุตูุงุญูุงุช ุจุงูุนุฑุจูุฉ
โ ุชูุจูู ุนู ุฃูู ูุณุชุฎุฏู = ูุฏูุฑ
```

### ูุคุดุฑ ุงูุตูุงุญูุงุช / Role Indicator
```
โ ุงุณู ุงููุณุชุฎุฏู ูุนุฑูุถ ูู ุงูุดุฑูุท ุงูุฌุงูุจู
โ ููุน ุงูุตูุงุญูุฉ ูุนุฑูุถ ุจูุถูุญ
โ ูุคุดุฑ ุงูุงุชุตุงู (ูุชุตู/ุบูุฑ ูุชุตู)
```

---

## ๐ง ุงูุชุทุจูู ุงูุชููู / Technical Implementation

### 1. ููู ุงูุชูุฌูู (routes.tsx)
```typescript
// ูู ุตูุญุฉ ููุง ูุงุฆูุฉ ุจุงูุฃุฏูุงุฑ ุงููุณููุญ ููุง
allowedRoles: ['admin', 'manager', 'cashier']
```

### 2. ุญุงุฑุณ ุงูุชูุฌูู (RouteGuard.tsx)
```typescript
// ูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู ูุจู ุงูุณูุงุญ ุจุงููุตูู
if (!currentRoute.allowedRoles.includes(profile.role)) {
  navigate('/unauthorized');
}
```

### 3. ุงูุชุฎุทูุท (AppLayout.tsx)
```typescript
// ูุนุฑุถ ููุท ุนูุงุตุฑ ุงููุงุฆูุฉ ุงููุณููุญ ุจูุง
const navigation = routes.filter(route => 
  route.allowedRoles.includes(profile.role)
);
```

### 4. ุตูุญุฉ ุบูุฑ ูุตุฑุญ (UnauthorizedPage.tsx)
```typescript
// ุตูุญุฉ ูุฎุตุตุฉ ูููุตูู ุบูุฑ ุงููุตุฑุญ
// ุฑุณุงูุฉ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
// ุฃุฒุฑุงุฑ ููุนูุฏุฉ
```

---

## ๐ฑ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู / User Experience

### ูููุฏูุฑ / For Admin:
1. ุชุณุฌูู ุงูุฏุฎูู
2. ุฑุคูุฉ ุฌููุน ุงูุตูุญุงุช ูู ุงููุงุฆูุฉ
3. ุงููุตูู ุฅูู ููุญุฉ ุงูุฅุฏุงุฑุฉ ูุชุบููุฑ ุงูุตูุงุญูุงุช
4. ุฅุฏุงุฑุฉ ูุงููุฉ ูููุธุงู

### ูููุดุฑู / For Manager:
1. ุชุณุฌูู ุงูุฏุฎูู
2. ุฑุคูุฉ ูุนุธู ุงูุตูุญุงุช (ูุง ุนุฏุง ุงูุฅุนุฏุงุฏุงุช ูููุญุฉ ุงูุฅุฏุงุฑุฉ)
3. ูุฑุงูุจุฉ ุงูุนูููุงุช ูุงูุชูุงุฑูุฑ
4. ุฅุฏุงุฑุฉ ุงููุฎุฒูู ูุงูููุชุฌุงุช

### ูููุงุดูุฑ / For Cashier:
1. ุชุณุฌูู ุงูุฏุฎูู
2. ุฑุคูุฉ ููุทุฉ ุงูุจูุน ูุงููุจูุนุงุช ููุท
3. ูุนุงูุฌุฉ ุนูููุงุช ุงูุจูุน
4. ุทุจุงุนุฉ ุงูููุงุชูุฑ
5. ุฅุฐุง ุญุงูู ุงููุตูู ูุตูุญุฉ ุฃุฎุฑู โ ุฑุณุงูุฉ "ุบูุฑ ูุตุฑุญ"

---

## ๐ ุงูุฃูุงู / Security

### ุงูุญูุงูุฉ ุนูู ูุณุชูู ุงูุชูุฌูู / Route-Level Protection
```
โ ูุญุต ุงูุตูุงุญูุงุช ูุจู ูู ุตูุญุฉ
โ ุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆูุฉ ููุตูุญุงุช ุบูุฑ ุงููุตุฑุญ ุจูุง
โ ุญูุงูุฉ ูู ุงููุตูู ุงููุจุงุดุฑ ุนุจุฑ URL
```

### ุงูุญูุงูุฉ ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช / Database-Level Protection
```
โ Row Level Security (RLS) ูู Supabase
โ ุตูุงุญูุงุช ูุฎุชููุฉ ููู ุฌุฏูู
โ ุงููุฏูุฑ ููุท ููููู ุชุนุฏูู ุงูุตูุงุญูุงุช
```

### ุงูุญูุงูุฉ ุนูู ูุณุชูู ุงููุงุฌูุฉ / UI-Level Protection
```
โ ุฅุฎูุงุก ุนูุงุตุฑ ุงููุงุฆูุฉ ุบูุฑ ุงููุณููุญ ุจูุง
โ ุนุฏู ุนุฑุถ ุฃุฒุฑุงุฑ ุฃู ุฎูุงุฑุงุช ุบูุฑ ูุตุฑุญ ุจูุง
โ ุฑุณุงุฆู ูุงุถุญุฉ ุนูุฏ ูุญุงููุฉ ุงููุตูู ุบูุฑ ุงููุตุฑุญ
```

---

## ๐ ุฌุฏูู ููุงุฑูุฉ ุงูุตูุงุญูุงุช / Permissions Comparison Table

| ุงูุตูุญุฉ / Page | ูุฏูุฑ / Admin | ูุดุฑู / Manager | ูุงุดูุฑ / Cashier |
|--------------|-------------|---------------|----------------|
| ููุทุฉ ุงูุจูุน | โ | โ | โ |
| ุงููุจูุนุงุช | โ | โ | โ |
| ุงูููุชุฌุงุช | โ | โ | โ |
| ุงููุฎุฒูู | โ | โ | โ |
| ุงูุนููุงุก | โ | โ | โ |
| ุงูุชูุงุฑูุฑ | โ | โ | โ |
| ุงูููุธููู | โ | โ | โ |
| ุงููุตุฑููุงุช | โ | โ | โ |
| ุงูุฅุนุฏุงุฏุงุช | โ | โ | โ |
| ููุญุฉ ุงูุฅุฏุงุฑุฉ | โ | โ | โ |

---

## ๐ฏ ุงูุฎูุงุตุฉ / Summary

โ **ูุตู ูุงูู ุจูู ุฃููุงุน ุงููุณุชุฎุฏููู**
- ูู ูุณุชุฎุฏู ูุฑู ููุท ูุง ูุญุชุงุฌู

โ **ูุงุฌูุฉ ูุงุถุญุฉ ููููููุฉ**
- ูุนูููุงุช ุงูุตูุงุญูุงุช ูุนุฑูุถุฉ ูู ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู
- ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุชุชููู ูุน ุตูุงุญูุงุช ุงููุณุชุฎุฏู

โ **ุญูุงูุฉ ูุชุนุฏุฏุฉ ุงููุณุชููุงุช**
- ุญูุงูุฉ ุนูู ูุณุชูู ุงูุชูุฌูู
- ุญูุงูุฉ ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุญูุงูุฉ ุนูู ูุณุชูู ุงููุงุฌูุฉ

โ **ุณูููุฉ ุงูุฅุฏุงุฑุฉ**
- ุงููุฏูุฑ ููููู ุชุบููุฑ ุงูุตูุงุญูุงุช ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- ุฃูู ูุณุชุฎุฏู ูุตุจุญ ูุฏูุฑ ุชููุงุฆูุงู
- ูุธุงู ูุงุถุญ ููุจุงุดุฑ

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู / How to Use

### 1. ุงูุชุณุฌูู ุงูุฃูู (ุณูุตุจุญ ูุฏูุฑ):
```
1. ุงูุชุญ ุงููุธุงู
2. ุงุถุบุท "ุฅูุดุงุก ุญุณุงุจ"
3. ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ
4. ุณุฌู ุงูุฏุฎูู
5. ุณุชุญุตู ุชููุงุฆูุงู ุนูู ุตูุงุญูุงุช ุงููุฏูุฑ
```

### 2. ุฅุถุงูุฉ ููุธููู ุฌุฏุฏ:
```
1. ุงูููุธู ุงูุฌุฏูุฏ ูุณุฌู ุญุณุงุจ (ุณูููู ูุงุดูุฑ ุงูุชุฑุงุถูุงู)
2. ุงููุฏูุฑ ูุฏุฎู ุฅูู "ููุญุฉ ุงูุฅุฏุงุฑุฉ"
3. ูุฎุชุงุฑ ุงูููุธู ููุบูุฑ ุตูุงุญูุงุชู
4. ูุญูุธ ุงูุชุบููุฑุงุช
5. ุงูููุธู ูุณุฌู ุฎุฑูุฌ ูุฏุฎูู ูุชูุนูู ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ
```

### 3. ุงุฎุชุจุงุฑ ุงูุตูุงุญูุงุช:
```
1. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ูุงุดูุฑ
2. ูุงุญุธ ุฃูู ุชุฑู ููุท "ููุทุฉ ุงูุจูุน" ู "ุงููุจูุนุงุช"
3. ุญุงูู ุงููุตูู ุฅูู ุตูุญุฉ ุฃุฎุฑู ุนุจุฑ URL
4. ุณูุชู ุชูุฌููู ุฅูู ุตูุญุฉ "ุบูุฑ ูุตุฑุญ ุจุงูุฏุฎูู"
```

---

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุน ูุตู ูุงูู ููุตูุงุญูุงุช! ๐**
